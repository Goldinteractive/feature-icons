!function e(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("icons",[],i):"object"==typeof exports?exports.icons=i():t.icons=i()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function t(){return e.default}:function t(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){var n,o,r;!function(i,s){var a;o=[t],n=s,r="function"==typeof n?n.apply(t,o):n,!(void 0!==r&&(e.exports=r))}(this,function(e){"use strict";function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=navigator.userAgent,a=s.indexOf("MSIE ")>-1||s.indexOf("Trident/")>-1,l="http://www.w3.org/2000/svg",p="http://www.w3.org/1999/xlink",c=e.IconManager=function(){function e(t){if(o(this,e),this.options=base.utils.object.extend({},e.defaultOptions,t),!this.options.svgJsonFile)throw new Error("No SVG json data file given!");if(!this.options.svgSpriteFile)throw new Error("No SVG sprite file given!");this.$svgSprite=document.createElement("div")}return r(e,[{key:"injectSprite",value:function e(t){var i=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new XMLHttpRequest;r.open("GET",this.options.svgSpriteFile,!0),r.send(),r.onload=function(e){if(i.$svgSprite.innerHTML=r.responseText,document.body.insertBefore(i.$svgSprite,document.body.childNodes[0]),o&&a){var s=[].concat(n(document.querySelectorAll("."+i.options.iconClass)));s.forEach(function(e){i._replaceUseWithOriginalPaths(e)})}t(i,e)}}},{key:"loadData",value:function e(t){var i=this,n=new XMLHttpRequest;n.open("GET",this.options.svgJsonFile,!0),n.send(),n.onload=function(e){i.iconsData=JSON.parse(n.responseText),t(i,e)}}},{key:"getIconFromData",value:function e(t){var i=this.iconsData.icons[t];if(!i)throw new Error('No icon "'+t+'" found in icon json data file "'+this.options.svgJsonFile+'"!');return this.iconsData.icons[t]}},{key:"getIconFromSprite",value:function e(t){var i=this.$svgSprite.querySelector("#"+this.options.prefixId+t);if(!i)throw new Error('No icon "'+t+'" found in svg sprite file "'+this.options.svgSpriteFile+'"!');return i}},{key:"_replaceUseWithOriginalPaths",value:function e(t){var i,n,o,r;return!(i=t.querySelector("use"))&&(!!(r=i.getAttribute("xlink:href"))&&(o=this.getIconFromSprite(r.split("#")[1]).childNodes,!!o.length&&(t.removeChild(i),o.forEach(function(e){t.appendChild(e.cloneNode(!0))}),!0)))}}]),e}();c.defaultOptions={svgJsonFile:null,svgSpriteFile:null,wrap:!1,withSize:!1,prefixId:"icon-",prefixClass:"-icon-",iconClass:"icon-svg",wrapClass:"icon-box",wrapElement:"span",responsive:!1,responsiveClass:"-responsive"};var u=e.Icon=function(e){function n(){return o(this,n),t(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,e),r(n,[{key:"init",value:function e(){var t=this;if(this.id=this.node.getAttribute("data-icon"),this.polyfilled=!1,!this.options.manager)throw new Error('Icon "'+this.id+'" feature needs to be initialized with a IconManager instance!');if(!this.id)return console.error('No "data-icon" attribute defined',this.node),!1;var i=this.options.manager,n=this.options.manager.options,o=this.node.getAttribute("data-responsive");this.responsive=null!==o||n.responsive;var r=this.node.getAttribute("data-wrap");this.wrap=null!==r||n.wrap;var s=this.node.getAttribute("data-with-size");this.withSize=null!==s||n.withSize;var c=i.getIconFromData(this.id).attributes,u=i.getIconFromSprite(this.id).childNodes,h=c.width?parseFloat(c.width):null,d=c.height?parseFloat(c.height):null;if(!u)throw new Error('Icon "'+this.id+'" has no child nodes in svg sprite!');for(var f in c)c.hasOwnProperty(f)&&("width"!=f&&"height"!=f||this.withSize)&&this.node.setAttribute(f,c[f]);if(this.node.classList.add(n.iconClass),this.node.classList.add(""+n.prefixClass+this.id),this.wrap||this.responsive){var v=this.node.parentNode;if(v.nodeName.toLowerCase()==n.wrapElement&&v.classList.contains(n.wrapClass))this.$wrap=v;else{var w=this.node.nextSibling;this.$wrap=document.createElement(n.wrapElement),this.$wrap.classList.add(n.wrapClass),this.$wrap.appendChild(this.node),w?v.insertBefore(this.$wrap,w):v.appendChild(this.$wrap)}if(this.responsive){if(!h||!d)throw new Error("Can't calculate responsive icon\n              \""+this.id+'" because width and/or height attributes are missing!');var g=d/h*100;this.$wrap.style.paddingBottom=g+"%",this.$wrap.classList.add(n.responsiveClass),this.$wrap.classList.add(""+n.prefixClass+this.id)}}if(a)u.forEach(function(e){t.node.appendChild(e)}),this.polyfilled=!0;else{var y=window.location.href,b=document.createElementNS(l,"use");b.setAttributeNS(p,"href",y+"#"+n.prefixId+this.id),this.node.appendChild(b)}}}]),n}(base.features.Feature);u.defaultOptions={manager:null},e.default=u})}])});
//# sourceMappingURL=icons.min.js.map