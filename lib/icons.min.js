!function t(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("icons",[],i):"object"==typeof exports?exports.icons=i():e.icons=i()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function e(){return t.default}:function e(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){var n,o,r;!function(i,s){var a;o=[e],n=s,r="function"==typeof n?n.apply(e,o):n,!(void 0!==r&&(t.exports=r))}(this,function(t){"use strict";function e(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=navigator.userAgent,a=s.indexOf("MSIE ")>-1||s.indexOf("Trident/")>-1,l="http://www.w3.org/2000/svg",u="http://www.w3.org/1999/xlink",p=t.IconManager=function(){function t(e){if(o(this,t),this.options=Object.assign({},t.defaultOptions,e),!this.options.svgJsonFile)throw new Error("No SVG json data file given!");if(!this.options.svgSpriteFile)throw new Error("No SVG sprite file given!");this.$svgSprite=document.createElement("div")}return r(t,[{key:"injectSprite",value:function t(e){var i=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=new XMLHttpRequest;o.open("GET",this.options.svgSpriteFile,!0),o.send(),o.onload=function(t){i.$svgSprite.innerHTML=o.responseText,document.body.insertBefore(i.$svgSprite,document.body.childNodes[0]),e(i,t)}}},{key:"loadData",value:function t(e){var i=this,n=new XMLHttpRequest;n.open("GET",this.options.svgJsonFile,!0),n.send(),n.onload=function(t){i.iconsData=JSON.parse(n.responseText),e(i,t)}}},{key:"getIconFromData",value:function t(e){var i=this.iconsData.icons[e];if(!i)throw new Error('No icon "'+e+'" found in icon json data file "'+this.options.svgJsonFile+'"!');return this.iconsData.icons[e]}},{key:"getIconFromSprite",value:function t(e){var i=this.$svgSprite.querySelector("#"+this.options.prefixId+e);if(!i)throw new Error('No icon "'+e+'" found in svg sprite file "'+this.options.svgSpriteFile+'"!');return i}}]),t}();p.defaultOptions={svgJsonFile:null,svgSpriteFile:null,equal:!1,original:!1,prefixId:"icon-",prefixClass:"-icon-",iconClass:"icon-svg",wrapClass:"icon-box",wrapElement:"span",responsive:!1,responsiveClass:"-responsive",width:200,height:200};var c=t.Icon=function(t){function s(){return o(this,s),i(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return n(s,t),r(s,[{key:"init",value:function t(){var i=this;if(this.id=this.node.getAttribute("data-icon"),this.polyfilled=!1,!this.options.manager)throw new Error('Icon "'+this.id+'" feature needs to be initialized with a IconManager instance!');if(!this.id)return console.error('No "data-icon" attribute defined',this.node),!1;var n=document.createElementNS(l,"svg"),o=this.node.parentElement,r=this.options.manager,s=this.options.manager.options,u=this.node.getAttribute("data-responsive");this.responsive=null!==u||s.responsive;var p=this.node.getAttribute("data-equal");this.equal=null!==p||s.equal;var c=this.node.getAttribute("data-original");this.original=null!==c||s.original;var h=r.getIconFromData(this.id).attributes,d=[].concat(e(r.getIconFromSprite(this.id).childNodes));if(!d)return console.error('Icon "'+this.id+'" has no child nodes in svg sprite!',this.node),!1;var f=h.width?parseFloat(h.width):null,v=h.height?parseFloat(h.height):null;for(var w in this.node.attributes)h.hasOwnProperty(w)&&n.setAttribute(w,h[w]);for(var g in h)h.hasOwnProperty(g)&&("width"!=g&&"height"!=g||this.original)&&n.setAttribute(g,h[g]);if(n.setAttribute("class",s.iconClass+" "+s.prefixClass+this.id),o.nodeName.toLowerCase()==s.wrapElement&&o.classList.contains(s.wrapClass))this.$wrap=o;else{var b=this.node.nextSibling;this.$wrap=document.createElement(s.wrapElement),this.$wrap.classList.add(s.wrapClass),this.$wrap.classList.add(s.prefixClass+this.id),this.$wrap.appendChild(this.node),b?o.insertBefore(this.$wrap,b):o.appendChild(this.$wrap)}if(this.original&&(this.$wrap.classList.add("-original"),this.$wrap.style.width=f+"px",this.$wrap.style.height=v+"px"),this.equal&&this.$wrap.classList.add("-equal"),this.responsive){var y=v/f*100;this.$wrap.style.paddingBottom=y+"%",this.$wrap.classList.add(s.responsiveClass)}else{var m=document.createElement("canvas");m.classList.add("icon-canvas"),m.setAttribute("width",f),m.setAttribute("height",v),this.$wrap.appendChild(m)}a?(d.forEach(function(t){n.appendChild(t.cloneNode(!0))}),this.polyfilled=!0):(this.$use=document.createElementNS(l,"use"),this.updateUseLink(),this.onHub("statechange",function(){i.updateUseLink()}),this.onHub("icons:update",function(){i.updateUseLink()}),n.appendChild(this.$use)),this.replaceNode(n)}},{key:"updateUseLink",value:function t(){if(this.$use){var e="//"+window.location.host+window.location.pathname+window.location.search;this.$use.setAttributeNS(u,"href",e+"#"+this.options.manager.options.prefixId+this.id)}}}]),s}(base.features.Feature);c.defaultOptions={manager:null},t.default=c})}])});
//# sourceMappingURL=icons.min.js.map