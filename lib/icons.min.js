!function t(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("icons",[],i):"object"==typeof exports?exports.icons=i():e.icons=i()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function e(){return t.default}:function e(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){var n,o,s;!function(i,r){var a;o=[e],n=r,s="function"==typeof n?n.apply(e,o):n,!(void 0!==s&&(t.exports=s))}(this,function(t){"use strict";function e(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=navigator.userAgent,a=r.indexOf("MSIE ")>-1||r.indexOf("Trident/")>-1,u="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xlink",c=t.IconManager=function(){function t(e){if(o(this,t),this.options=Object.assign({},t.defaultOptions,e),!this.options.svgJsonFile)throw new Error("No SVG json data file given!");if(!this.options.svgSpriteFile)throw new Error("No SVG sprite file given!");this.$svgSprite=document.createElement("div")}return s(t,[{key:"injectSprite",value:function t(e){var i=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=new XMLHttpRequest;o.open("GET",this.options.svgSpriteFile,!0),o.send(),o.onload=function(t){i.$svgSprite.innerHTML=o.responseText,document.body.insertBefore(i.$svgSprite,document.body.childNodes[0]),e(i,t)}}},{key:"loadData",value:function t(e){var i=this,n=new XMLHttpRequest;n.open("GET",this.options.svgJsonFile,!0),n.send(),n.onload=function(t){i.iconsData=JSON.parse(n.responseText),e(i,t)}}},{key:"getIconFromData",value:function t(e){var i=this.iconsData.icons[e];if(!i)throw new Error('No icon "'+e+'" found in icon json data file "'+this.options.svgJsonFile+'"!');return this.iconsData.icons[e]}},{key:"getIconFromSprite",value:function t(e){var i=this.$svgSprite.querySelector("#"+this.options.prefixId+e);if(!i)throw new Error('No icon "'+e+'" found in svg sprite file "'+this.options.svgSpriteFile+'"!');return i}}]),t}();c.defaultOptions={svgJsonFile:null,svgSpriteFile:null,equal:!1,original:!1,prefixId:"icon-",prefixClass:"-icon-",iconClass:"icon-svg",wrapClass:"icon-box",accessible:!1,responsive:!1,responsiveClass:"-responsive",width:200,height:200};var d=t.Icon=function(t){function r(){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return n(r,t),s(r,[{key:"init",value:function t(){var i=this;if(this.id=this.node.getAttribute("data-icon"),this.polyfilled=!1,!this.options.manager)throw new Error('Icon "'+this.id+'" feature needs to be initialized with a IconManager instance!');if(!this.id)return console.error('No "data-icon" attribute defined',this.node),!1;var n=this.node.querySelector("svg")||document.createElementNS(u,"svg"),o=this.options.manager,s=this.options.manager.options,r=this.node.getAttribute("data-responsive");this.responsive=null!==r||s.responsive;var l=this.node.getAttribute("data-equal");this.equal=null!==l||s.equal;var c=this.node.getAttribute("data-accessible");this.accessible=null!==c||s.accessible;var d=this.node.getAttribute("data-original");this.original=null!==d||s.original;var h=o.getIconFromData(this.id).attributes,p=[].concat(e(o.getIconFromSprite(this.id).childNodes));if(!p)return console.error('Icon "'+this.id+'" has no child nodes in svg sprite!',this.node),!1;n.setAttribute("role","img"),n.setAttribute("aria-hidden",this.accessible?"false":"true");var f=h.width?parseFloat(h.width):null,v=h.height?parseFloat(h.height):null;for(var g in h)h.hasOwnProperty(g)&&("width"!=g&&"height"!=g||this.original)&&n.setAttribute(g,h[g]);if(n.setAttribute("class",s.iconClass+" "+s.prefixClass+this.id),this.node.classList.add(s.wrapClass),this.node.classList.add(s.prefixClass+this.id),this.original&&(this.node.classList.add("-original"),this.node.style.width=f+"px",this.node.style.height=v+"px"),this.equal&&this.node.classList.add("-equal"),this.responsive){var b=v/f*100;this.node.style.paddingBottom=b+"%",this.node.classList.add(s.responsiveClass)}else{var w=document.createElement("canvas");w.classList.add("icon-canvas"),w.setAttribute("width",f),w.setAttribute("height",v),w.setAttribute("aria-hidden","true"),this.node.appendChild(w)}a?(p.forEach(function(t){n.appendChild(t.cloneNode(!0))}),this.polyfilled=!0):(this.$use=document.createElementNS(u,"use"),this.updateUseLink(),this.onHub("statechange",function(){i.updateUseLink()}),this.onHub("icons:update",function(){i.updateUseLink()}),n.appendChild(this.$use)),this.node.appendChild(n)}},{key:"updateUseLink",value:function t(){if(this.$use){var e="//"+window.location.host+window.location.pathname+window.location.search,i=e+"#"+this.options.manager.options.prefixId+this.id;this.$use.setAttribute("href",i),this.$use.setAttributeNS(l,"xlink:href",i)}}}]),r}(base.features.Feature);d.defaultOptions={manager:null},t.default=d})}])});
//# sourceMappingURL=icons.min.js.map